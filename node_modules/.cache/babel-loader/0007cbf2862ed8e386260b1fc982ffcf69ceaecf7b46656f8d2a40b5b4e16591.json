{"ast":null,"code":"import React,{useState}from'react';import TaskItem from'./TaskItem';import QuickTaskInput from'./QuickTaskInput';import CategoryManager from'./CategoryManager';import'./Task.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TaskList(_ref){let{tasks,categories,loading,refreshTasks}=_ref;const[showCompleted,setShowCompleted]=useState(true);const[showCategoryManager,setShowCategoryManager]=useState(false);// タスクを完了状態でソート\nconst sortTasks=tasks=>{return[...tasks].sort((a,b)=>{// 完了済みは下に\nif(a.status!==b.status){return a.status?1:-1;}// 最後に作成日順\nreturn new Date(b.created_at)-new Date(a.created_at);});};const sortedTasks=sortTasks(tasks);const activeTasks=sortedTasks.filter(task=>!task.status);const completedTasks=sortedTasks.filter(task=>task.status);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"task-container\",children:[/*#__PURE__*/_jsx(QuickTaskInput,{categories:categories,onTaskAdded:refreshTasks}),/*#__PURE__*/_jsx(\"div\",{className:\"task-loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"task-container\",children:[/*#__PURE__*/_jsx(QuickTaskInput,{categories:categories,onTaskAdded:refreshTasks}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-management\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCategoryManager(!showCategoryManager),className:\"category-manager-toggle\",children:showCategoryManager?'カテゴリを隠す':'カテゴリを管理'}),showCategoryManager&&/*#__PURE__*/_jsx(CategoryManager,{categories:categories,onCategoriesChange:refreshTasks})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-stats\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-card total\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:activeTasks.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u672A\\u5B8C\\u4E86\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-card completed\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:completedTasks.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u5B8C\\u4E86\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"task-list\",children:tasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u6700\\u521D\\u306E\\u30BF\\u30B9\\u30AF\\u3092\\u8FFD\\u52A0\\u3057\\u3066\\u307F\\u307E\\u3057\\u3087\\u3046\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u4E0A\\u306E\\u5165\\u529B\\u6B04\\u306B\\u4F55\\u3067\\u3082\\u66F8\\u3044\\u3066Enter\\u3092\\u62BC\\u3059\\u3060\\u3051\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[activeTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"task-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[\"\\u3084\\u308B\\u3053\\u3068 (\",activeTasks.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"task-grid\",children:activeTasks.map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task,categories:categories,refreshTasks:refreshTasks},task.id))})]}),completedTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"task-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title completed-title\",children:[\"\\u5B8C\\u4E86\\u6E08\\u307F (\",completedTasks.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCompleted(!showCompleted),className:\"toggle-completed-btn\",children:showCompleted?'隠す':'表示'})]}),showCompleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"task-grid completed-grid\",children:[completedTasks.slice(0,10).map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task,categories:categories,refreshTasks:refreshTasks,isCompleted:true},task.id)),completedTasks.length>10&&/*#__PURE__*/_jsxs(\"div\",{className:\"more-completed\",children:[\"+\",completedTasks.length-10,\" \\u500B\\u306E\\u5B8C\\u4E86\\u6E08\\u307F\\u30BF\\u30B9\\u30AF\"]})]})]})]})})]});}export default TaskList;","map":{"version":3,"names":["React","useState","TaskItem","QuickTaskInput","CategoryManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TaskList","_ref","tasks","categories","loading","refreshTasks","showCompleted","setShowCompleted","showCategoryManager","setShowCategoryManager","sortTasks","sort","a","b","status","Date","created_at","sortedTasks","activeTasks","filter","task","completedTasks","className","children","onTaskAdded","onClick","onCategoriesChange","length","map","id","slice","isCompleted"],"sources":["C:/Users/mexer/PR/task-manager-app/src/components/Task/TaskList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport TaskItem from './TaskItem';\nimport QuickTaskInput from './QuickTaskInput';\nimport CategoryManager from './CategoryManager';\nimport './Task.css';\n\nfunction TaskList({ tasks, categories, loading, refreshTasks }) {\n  const [showCompleted, setShowCompleted] = useState(true);\n  const [showCategoryManager, setShowCategoryManager] = useState(false);\n\n  // タスクを完了状態でソート\n  const sortTasks = (tasks) => {\n    return [...tasks].sort((a, b) => {\n      // 完了済みは下に\n      if (a.status !== b.status) {\n        return a.status ? 1 : -1;\n      }\n      \n      // 最後に作成日順\n      return new Date(b.created_at) - new Date(a.created_at);\n    });\n  };\n\n  const sortedTasks = sortTasks(tasks);\n  const activeTasks = sortedTasks.filter(task => !task.status);\n  const completedTasks = sortedTasks.filter(task => task.status);\n\n  if (loading) {\n    return (\n      <div className=\"task-container\">\n        <QuickTaskInput categories={categories} onTaskAdded={refreshTasks} />\n        <div className=\"task-loading\">\n          <div className=\"loading-spinner\">読み込み中...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"task-container\">\n      {/* クイック入力エリア */}\n      <QuickTaskInput categories={categories} onTaskAdded={refreshTasks} />\n      \n      {/* カテゴリ管理 */}\n      <div className=\"category-management\">\n        <button\n          onClick={() => setShowCategoryManager(!showCategoryManager)}\n          className=\"category-manager-toggle\"\n        >\n          {showCategoryManager ? 'カテゴリを隠す' : 'カテゴリを管理'}\n        </button>\n        \n        {showCategoryManager && (\n          <CategoryManager \n            categories={categories} \n            onCategoriesChange={refreshTasks}\n          />\n        )}\n      </div>\n      \n      {/* 統計 */}\n      <div className=\"dashboard-stats\">\n        <div className=\"stats-grid\">\n          <div className=\"stat-card total\">\n            <div className=\"stat-content\">\n              <div className=\"stat-number\">{activeTasks.length}</div>\n              <div className=\"stat-label\">未完了</div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card completed\">\n            <div className=\"stat-content\">\n              <div className=\"stat-number\">{completedTasks.length}</div>\n              <div className=\"stat-label\">完了</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* タスク一覧 */}\n      <div className=\"task-list\">\n        {tasks.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>最初のタスクを追加してみましょう</h3>\n            <p>上の入力欄に何でも書いてEnterを押すだけ</p>\n          </div>\n        ) : (\n          <>\n            {/* 未完了タスク */}\n            {activeTasks.length > 0 && (\n              <div className=\"task-section\">\n                <h3 className=\"section-title\">\n                  やること ({activeTasks.length})\n                </h3>\n                <div className=\"task-grid\">\n                  {activeTasks.map((task) => (\n                    <TaskItem\n                      key={task.id}\n                      task={task}\n                      categories={categories}\n                      refreshTasks={refreshTasks}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* 完了済みタスク */}\n            {completedTasks.length > 0 && (\n              <div className=\"task-section\">\n                <div className=\"section-header\">\n                  <h3 className=\"section-title completed-title\">\n                    完了済み ({completedTasks.length})\n                  </h3>\n                  <button\n                    onClick={() => setShowCompleted(!showCompleted)}\n                    className=\"toggle-completed-btn\"\n                  >\n                    {showCompleted ? '隠す' : '表示'}\n                  </button>\n                </div>\n                \n                {showCompleted && (\n                  <div className=\"task-grid completed-grid\">\n                    {completedTasks.slice(0, 10).map((task) => (\n                      <TaskItem\n                        key={task.id}\n                        task={task}\n                        categories={categories}\n                        refreshTasks={refreshTasks}\n                        isCompleted={true}\n                      />\n                    ))}\n                    {completedTasks.length > 10 && (\n                      <div className=\"more-completed\">\n                        +{completedTasks.length - 10} 個の完了済みタスク\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default TaskList;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpB,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA+C,IAA9C,CAAEC,KAAK,CAAEC,UAAU,CAAEC,OAAO,CAAEC,YAAa,CAAC,CAAAJ,IAAA,CAC5D,KAAM,CAACK,aAAa,CAAEC,gBAAgB,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACkB,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAErE;AACA,KAAM,CAAAoB,SAAS,CAAIR,KAAK,EAAK,CAC3B,MAAO,CAAC,GAAGA,KAAK,CAAC,CAACS,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAC/B;AACA,GAAID,CAAC,CAACE,MAAM,GAAKD,CAAC,CAACC,MAAM,CAAE,CACzB,MAAO,CAAAF,CAAC,CAACE,MAAM,CAAG,CAAC,CAAG,CAAC,CAAC,CAC1B,CAEA;AACA,MAAO,IAAI,CAAAC,IAAI,CAACF,CAAC,CAACG,UAAU,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACH,CAAC,CAACI,UAAU,CAAC,CACxD,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGP,SAAS,CAACR,KAAK,CAAC,CACpC,KAAM,CAAAgB,WAAW,CAAGD,WAAW,CAACE,MAAM,CAACC,IAAI,EAAI,CAACA,IAAI,CAACN,MAAM,CAAC,CAC5D,KAAM,CAAAO,cAAc,CAAGJ,WAAW,CAACE,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACN,MAAM,CAAC,CAE9D,GAAIV,OAAO,CAAE,CACX,mBACEP,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,IAAA,CAACH,cAAc,EAACW,UAAU,CAAEA,UAAW,CAACqB,WAAW,CAAEnB,YAAa,CAAE,CAAC,cACrEV,IAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B5B,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,mCAAQ,CAAK,CAAC,CAC5C,CAAC,EACH,CAAC,CAEV,CAEA,mBACE1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7B5B,IAAA,CAACH,cAAc,EAACW,UAAU,CAAEA,UAAW,CAACqB,WAAW,CAAEnB,YAAa,CAAE,CAAC,cAGrER,KAAA,QAAKyB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC5B,IAAA,WACE8B,OAAO,CAAEA,CAAA,GAAMhB,sBAAsB,CAAC,CAACD,mBAAmB,CAAE,CAC5Dc,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAElCf,mBAAmB,CAAG,SAAS,CAAG,SAAS,CACtC,CAAC,CAERA,mBAAmB,eAClBb,IAAA,CAACF,eAAe,EACdU,UAAU,CAAEA,UAAW,CACvBuB,kBAAkB,CAAErB,YAAa,CAClC,CACF,EACE,CAAC,cAGNV,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,IAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEL,WAAW,CAACS,MAAM,CAAM,CAAC,cACvDhC,IAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oBAAG,CAAK,CAAC,EAClC,CAAC,CACH,CAAC,cAEN5B,IAAA,QAAK2B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClC1B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,IAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEF,cAAc,CAACM,MAAM,CAAM,CAAC,cAC1DhC,IAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,EACjC,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,cAGN5B,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBrB,KAAK,CAACyB,MAAM,GAAK,CAAC,cACjB9B,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5B,IAAA,OAAA4B,QAAA,CAAI,kGAAgB,CAAI,CAAC,cACzB5B,IAAA,MAAA4B,QAAA,CAAG,6GAAsB,CAAG,CAAC,EAC1B,CAAC,cAEN1B,KAAA,CAAAE,SAAA,EAAAwB,QAAA,EAEGL,WAAW,CAACS,MAAM,CAAG,CAAC,eACrB9B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1B,KAAA,OAAIyB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,4BACtB,CAACL,WAAW,CAACS,MAAM,CAAC,GAC5B,EAAI,CAAC,cACLhC,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBL,WAAW,CAACU,GAAG,CAAER,IAAI,eACpBzB,IAAA,CAACJ,QAAQ,EAEP6B,IAAI,CAAEA,IAAK,CACXjB,UAAU,CAAEA,UAAW,CACvBE,YAAY,CAAEA,YAAa,EAHtBe,IAAI,CAACS,EAIX,CACF,CAAC,CACC,CAAC,EACH,CACN,CAGAR,cAAc,CAACM,MAAM,CAAG,CAAC,eACxB9B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1B,KAAA,OAAIyB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EAAC,4BACtC,CAACF,cAAc,CAACM,MAAM,CAAC,GAC/B,EAAI,CAAC,cACLhC,IAAA,WACE8B,OAAO,CAAEA,CAAA,GAAMlB,gBAAgB,CAAC,CAACD,aAAa,CAAE,CAChDgB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAE/BjB,aAAa,CAAG,IAAI,CAAG,IAAI,CACtB,CAAC,EACN,CAAC,CAELA,aAAa,eACZT,KAAA,QAAKyB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,EACtCF,cAAc,CAACS,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACF,GAAG,CAAER,IAAI,eACpCzB,IAAA,CAACJ,QAAQ,EAEP6B,IAAI,CAAEA,IAAK,CACXjB,UAAU,CAAEA,UAAW,CACvBE,YAAY,CAAEA,YAAa,CAC3B0B,WAAW,CAAE,IAAK,EAJbX,IAAI,CAACS,EAKX,CACF,CAAC,CACDR,cAAc,CAACM,MAAM,CAAG,EAAE,eACzB9B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,GAC7B,CAACF,cAAc,CAACM,MAAM,CAAG,EAAE,CAAC,yDAC/B,EAAK,CACN,EACE,CACN,EACE,CACN,EACD,CACH,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA3B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}