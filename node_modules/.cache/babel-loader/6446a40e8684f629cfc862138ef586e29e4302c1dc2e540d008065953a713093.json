{"ast":null,"code":"import React,{useState}from'react';import supabase from'../../services/supabaseClient';import'./Task.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskItem(_ref){let{task,categories,refreshTasks,isHighlighted,isCompleted}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedTask,setEditedTask]=useState({...task});const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const[isQuickEdit,setIsQuickEdit]=useState(false);// タスクの完了/未完了切り替え\nconst handleStatusChange=async()=>{try{const newStatus=!task.status;const{error:updateError}=await supabase.from('tasks').update({status:newStatus}).eq('id',task.id);if(updateError)throw updateError;refreshTasks();}catch(err){console.error('タスクの更新中にエラーが発生しました:',err);}};// タスクの保存処理\nconst handleSave=async()=>{setLoading(true);setError(null);try{const{error:updateError}=await supabase.from('tasks').update({title:editedTask.title,description:editedTask.description,priority:editedTask.priority,due_date:editedTask.due_date,category_id:editedTask.category_id}).eq('id',task.id);if(updateError)throw updateError;setIsEditing(false);refreshTasks();}catch(err){console.error('タスクの保存中にエラーが発生しました:',err);setError(err.message);}finally{setLoading(false);}};// タスクの削除処理\nconst handleDelete=async()=>{if(window.confirm('このタスクを削除してもよろしいですか？')){try{const{error:deleteError}=await supabase.from('tasks').delete().eq('id',task.id);if(deleteError)throw deleteError;refreshTasks();}catch(err){console.error('タスクの削除中にエラーが発生しました:',err);}}};// 優先度に応じた表示情報\nconst getPriorityInfo=priority=>{switch(priority){case'高':return{class:'priority-high',text:'緊急',bgColor:'#fee2e2',textColor:'#dc2626'};case'中':return{class:'priority-medium',text:'普通',bgColor:'#fef3c7',textColor:'#d97006'};case'低':return{class:'priority-low',text:'後で',bgColor:'#ecfdf5',textColor:'#059669'};default:return{class:'priority-medium',text:'普通',bgColor:'#f3f4f6',textColor:'#6b7280'};}};// 期限の状態を取得\nconst getDueDateInfo=dueDate=>{if(!dueDate)return null;const due=new Date(dueDate);const today=new Date();const diffDays=Math.ceil((due-today)/(1000*60*60*24));if(diffDays<0)return{status:'overdue',text:`${Math.abs(diffDays)}日遅れ`,bgColor:'#fecaca',textColor:'#dc2626'};if(diffDays===0)return{status:'today',text:'今日',bgColor:'#fbbf24',textColor:'#ffffff'};if(diffDays===1)return{status:'tomorrow',text:'明日',bgColor:'#fed7aa',textColor:'#ea580c'};if(diffDays<=7)return{status:'week',text:`${diffDays}日後`,bgColor:'#dbeafe',textColor:'#2563eb'};return{status:'future',text:due.toLocaleDateString(),bgColor:'#e5e7eb',textColor:'#6b7280'};};// 素早いタイトル編集\nconst handleQuickTitleEdit=async newTitle=>{if(!newTitle.trim()||newTitle===task.title){setIsQuickEdit(false);return;}try{const{error}=await supabase.from('tasks').update({title:newTitle.trim()}).eq('id',task.id);if(error)throw error;refreshTasks();}catch(err){console.error('タイトル更新エラー:',err);}setIsQuickEdit(false);};// 優先度を素早く変更\nconst cyclePriority=async()=>{const priorities=['低','中','高'];const currentIndex=priorities.indexOf(task.priority||'中');const newPriority=priorities[(currentIndex+1)%priorities.length];try{const{error}=await supabase.from('tasks').update({priority:newPriority}).eq('id',task.id);if(error)throw error;refreshTasks();}catch(err){console.error('優先度更新エラー:',err);}};// 編集モードの表示\nif(isEditing){return/*#__PURE__*/_jsxs(\"div\",{className:\"task-item-edit\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\u30BF\\u30A4\\u30C8\\u30EB\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",value:editedTask.title,onChange:e=>setEditedTask({...editedTask,title:e.target.value}),placeholder:\"\\u4F55\\u3092\\u3057\\u307E\\u3059\\u304B\\uFF1F\",autoFocus:true,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"\\u8AAC\\u660E\\uFF08\\u4EFB\\u610F\\uFF09\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:editedTask.description||'',onChange:e=>setEditedTask({...editedTask,description:e.target.value}),placeholder:\"\\u8A73\\u7D30\\u60C5\\u5831\\u304C\\u3042\\u308C\\u3070...\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",children:\"\\u512A\\u5148\\u5EA6\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"priority\",value:editedTask.priority||'中',onChange:e=>setEditedTask({...editedTask,priority:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u9AD8\",children:\"\\u7DCA\\u6025\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4E2D\",children:\"\\u666E\\u901A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4F4E\",children:\"\\u5F8C\\u3067\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"due_date\",children:\"\\u671F\\u9650\"}),/*#__PURE__*/_jsx(\"input\",{id:\"due_date\",type:\"date\",value:editedTask.due_date||'',onChange:e=>setEditedTask({...editedTask,due_date:e.target.value})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"\\u30AB\\u30C6\\u30B4\\u30EA\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",value:editedTask.category_id||'',onChange:e=>setEditedTask({...editedTask,category_id:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u30AB\\u30C6\\u30B4\\u30EA\\u306A\\u3057\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"cancel-btn\",children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"save-btn\",disabled:loading||!editedTask.title.trim(),children:loading?'保存中...':'保存'})]})]});}const priorityInfo=getPriorityInfo(task.priority);const dueDateInfo=getDueDateInfo(task.due_date);// 通常モードの表示\nreturn/*#__PURE__*/_jsxs(\"div\",{className:`task-card ${priorityInfo.class} ${task.status?'completed':''} ${isHighlighted?'highlighted':''} ${(dueDateInfo===null||dueDateInfo===void 0?void 0:dueDateInfo.status)||''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-left-section\",children:[/*#__PURE__*/_jsx(\"button\",{className:`completion-btn ${task.status?'completed':''}`,onClick:handleStatusChange,title:task.status?'クリックで未完了に戻す':'クリックで完了',children:/*#__PURE__*/_jsx(\"div\",{className:\"completion-icon\",children:task.status?'✓':'○'})}),/*#__PURE__*/_jsx(\"button\",{className:\"priority-btn\",onClick:cyclePriority,title:`優先度: ${priorityInfo.text} (クリックで切り替え)`,style:{backgroundColor:priorityInfo.bgColor,color:priorityInfo.textColor},children:priorityInfo.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"task-header\",children:isQuickEdit?/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:task.title,autoFocus:true,onBlur:e=>handleQuickTitleEdit(e.target.value),onKeyPress:e=>{if(e.key==='Enter'){handleQuickTitleEdit(e.target.value);}},onKeyDown:e=>{if(e.key==='Escape'){setIsQuickEdit(false);}},className:\"quick-title-edit\"}):/*#__PURE__*/_jsx(\"h3\",{className:`task-title ${task.status?'completed':''}`,onClick:()=>setIsQuickEdit(true),title:\"\\u30AF\\u30EA\\u30C3\\u30AF\\u3067\\u30BF\\u30A4\\u30C8\\u30EB\\u7DE8\\u96C6\",children:task.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-meta\",children:[task.categories&&/*#__PURE__*/_jsx(\"span\",{className:\"category-tag\",style:{backgroundColor:task.categories.color+'20',color:task.categories.color,borderColor:task.categories.color+'50'},children:task.categories.name}),dueDateInfo&&/*#__PURE__*/_jsx(\"span\",{className:`due-date-tag ${dueDateInfo.status}`,style:{backgroundColor:dueDateInfo.bgColor,color:dueDateInfo.textColor},children:dueDateInfo.text})]}),task.description&&!task.status&&/*#__PURE__*/_jsx(\"p\",{className:\"task-description\",children:task.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"action-btn edit-btn\",title:\"\\u8A73\\u7D30\\u7DE8\\u96C6\",children:\"\\u7DE8\\u96C6\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"action-btn delete-btn\",title:\"\\u524A\\u9664\",children:\"\\u524A\\u9664\"})]})]});}export default TaskItem;","map":{"version":3,"names":["React","useState","supabase","jsx","_jsx","jsxs","_jsxs","TaskItem","_ref","task","categories","refreshTasks","isHighlighted","isCompleted","isEditing","setIsEditing","editedTask","setEditedTask","error","setError","loading","setLoading","isQuickEdit","setIsQuickEdit","handleStatusChange","newStatus","status","updateError","from","update","eq","id","err","console","handleSave","title","description","priority","due_date","category_id","message","handleDelete","window","confirm","deleteError","delete","getPriorityInfo","class","text","bgColor","textColor","getDueDateInfo","dueDate","due","Date","today","diffDays","Math","ceil","abs","toLocaleDateString","handleQuickTitleEdit","newTitle","trim","cyclePriority","priorities","currentIndex","indexOf","newPriority","length","className","children","htmlFor","type","value","onChange","e","target","placeholder","autoFocus","required","rows","map","category","name","onClick","disabled","priorityInfo","dueDateInfo","style","backgroundColor","color","defaultValue","onBlur","onKeyPress","key","onKeyDown","borderColor"],"sources":["C:/Users/mexer/PR/task-manager-app/src/components/Task/TaskItem.js"],"sourcesContent":["import React, { useState } from 'react';\nimport supabase from '../../services/supabaseClient';\nimport './Task.css';\n\nfunction TaskItem({ task, categories, refreshTasks, isHighlighted, isCompleted }) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedTask, setEditedTask] = useState({ ...task });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [isQuickEdit, setIsQuickEdit] = useState(false);\n\n  // タスクの完了/未完了切り替え\n  const handleStatusChange = async () => {\n    try {\n      const newStatus = !task.status;\n      \n      const { error: updateError } = await supabase\n        .from('tasks')\n        .update({ status: newStatus })\n        .eq('id', task.id);\n      \n      if (updateError) throw updateError;\n      \n      refreshTasks();\n    } catch (err) {\n      console.error('タスクの更新中にエラーが発生しました:', err);\n    }\n  };\n\n  // タスクの保存処理\n  const handleSave = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const { error: updateError } = await supabase\n        .from('tasks')\n        .update({\n          title: editedTask.title,\n          description: editedTask.description,\n          priority: editedTask.priority,\n          due_date: editedTask.due_date,\n          category_id: editedTask.category_id\n        })\n        .eq('id', task.id);\n      \n      if (updateError) throw updateError;\n      \n      setIsEditing(false);\n      refreshTasks();\n    } catch (err) {\n      console.error('タスクの保存中にエラーが発生しました:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // タスクの削除処理\n  const handleDelete = async () => {\n    if (window.confirm('このタスクを削除してもよろしいですか？')) {\n      try {\n        const { error: deleteError } = await supabase\n          .from('tasks')\n          .delete()\n          .eq('id', task.id);\n        \n        if (deleteError) throw deleteError;\n        \n        refreshTasks();\n      } catch (err) {\n        console.error('タスクの削除中にエラーが発生しました:', err);\n      }\n    }\n  };\n\n  // 優先度に応じた表示情報\n  const getPriorityInfo = (priority) => {\n    switch (priority) {\n      case '高': return { \n        class: 'priority-high', \n        text: '緊急', \n        bgColor: '#fee2e2',\n        textColor: '#dc2626'\n      };\n      case '中': return { \n        class: 'priority-medium', \n        text: '普通', \n        bgColor: '#fef3c7',\n        textColor: '#d97006'\n      };\n      case '低': return { \n        class: 'priority-low', \n        text: '後で', \n        bgColor: '#ecfdf5',\n        textColor: '#059669'\n      };\n      default: return { \n        class: 'priority-medium', \n        text: '普通', \n        bgColor: '#f3f4f6',\n        textColor: '#6b7280'\n      };\n    }\n  };\n\n  // 期限の状態を取得\n  const getDueDateInfo = (dueDate) => {\n    if (!dueDate) return null;\n    const due = new Date(dueDate);\n    const today = new Date();\n    const diffDays = Math.ceil((due - today) / (1000 * 60 * 60 * 24));\n    \n    if (diffDays < 0) return { \n      status: 'overdue', \n      text: `${Math.abs(diffDays)}日遅れ`, \n      bgColor: '#fecaca',\n      textColor: '#dc2626'\n    };\n    if (diffDays === 0) return { \n      status: 'today', \n      text: '今日', \n      bgColor: '#fbbf24',\n      textColor: '#ffffff'\n    };\n    if (diffDays === 1) return { \n      status: 'tomorrow', \n      text: '明日', \n      bgColor: '#fed7aa',\n      textColor: '#ea580c'\n    };\n    if (diffDays <= 7) return { \n      status: 'week', \n      text: `${diffDays}日後`, \n      bgColor: '#dbeafe',\n      textColor: '#2563eb'\n    };\n    return { \n      status: 'future', \n      text: due.toLocaleDateString(), \n      bgColor: '#e5e7eb',\n      textColor: '#6b7280'\n    };\n  };\n\n  // 素早いタイトル編集\n  const handleQuickTitleEdit = async (newTitle) => {\n    if (!newTitle.trim() || newTitle === task.title) {\n      setIsQuickEdit(false);\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from('tasks')\n        .update({ title: newTitle.trim() })\n        .eq('id', task.id);\n      \n      if (error) throw error;\n      refreshTasks();\n    } catch (err) {\n      console.error('タイトル更新エラー:', err);\n    }\n    setIsQuickEdit(false);\n  };\n\n  // 優先度を素早く変更\n  const cyclePriority = async () => {\n    const priorities = ['低', '中', '高'];\n    const currentIndex = priorities.indexOf(task.priority || '中');\n    const newPriority = priorities[(currentIndex + 1) % priorities.length];\n    \n    try {\n      const { error } = await supabase\n        .from('tasks')\n        .update({ priority: newPriority })\n        .eq('id', task.id);\n      \n      if (error) throw error;\n      refreshTasks();\n    } catch (err) {\n      console.error('優先度更新エラー:', err);\n    }\n  };\n\n  // 編集モードの表示\n  if (isEditing) {\n    return (\n      <div className=\"task-item-edit\">\n        {error && (\n          <div className=\"error-message\">\n            {error}\n          </div>\n        )}\n        \n        <div className=\"edit-form\">\n          <div className=\"form-field\">\n            <label htmlFor=\"title\">タイトル</label>\n            <input\n              id=\"title\"\n              type=\"text\"\n              value={editedTask.title}\n              onChange={(e) => setEditedTask({ ...editedTask, title: e.target.value })}\n              placeholder=\"何をしますか？\"\n              autoFocus\n              required\n            />\n          </div>\n          \n          <div className=\"form-field\">\n            <label htmlFor=\"description\">説明（任意）</label>\n            <textarea\n              id=\"description\"\n              value={editedTask.description || ''}\n              onChange={(e) => setEditedTask({ ...editedTask, description: e.target.value })}\n              placeholder=\"詳細情報があれば...\"\n              rows=\"3\"\n            />\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-field\">\n              <label htmlFor=\"priority\">優先度</label>\n              <select\n                id=\"priority\"\n                value={editedTask.priority || '中'}\n                onChange={(e) => setEditedTask({ ...editedTask, priority: e.target.value })}\n              >\n                <option value=\"高\">緊急</option>\n                <option value=\"中\">普通</option>\n                <option value=\"低\">後で</option>\n              </select>\n            </div>\n            \n            <div className=\"form-field\">\n              <label htmlFor=\"due_date\">期限</label>\n              <input\n                id=\"due_date\"\n                type=\"date\"\n                value={editedTask.due_date || ''}\n                onChange={(e) => setEditedTask({ ...editedTask, due_date: e.target.value })}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-field\">\n            <label htmlFor=\"category\">カテゴリ</label>\n            <select\n              id=\"category\"\n              value={editedTask.category_id || ''}\n              onChange={(e) => setEditedTask({ ...editedTask, category_id: e.target.value })}\n            >\n              <option value=\"\">カテゴリなし</option>\n              {categories.map((category) => (\n                <option key={category.id} value={category.id}>\n                  {category.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"edit-actions\">\n          <button\n            onClick={() => setIsEditing(false)}\n            className=\"cancel-btn\"\n          >\n            キャンセル\n          </button>\n          <button\n            onClick={handleSave}\n            className=\"save-btn\"\n            disabled={loading || !editedTask.title.trim()}\n          >\n            {loading ? '保存中...' : '保存'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const priorityInfo = getPriorityInfo(task.priority);\n  const dueDateInfo = getDueDateInfo(task.due_date);\n\n  // 通常モードの表示\n  return (\n    <div className={`task-card ${priorityInfo.class} ${task.status ? 'completed' : ''} ${isHighlighted ? 'highlighted' : ''} ${dueDateInfo?.status || ''}`}>\n      {/* 左側：ステータスとプライオリティ */}\n      <div className=\"task-left-section\">\n        <button\n          className={`completion-btn ${task.status ? 'completed' : ''}`}\n          onClick={handleStatusChange}\n          title={task.status ? 'クリックで未完了に戻す' : 'クリックで完了'}\n        >\n          <div className=\"completion-icon\">\n            {task.status ? '✓' : '○'}\n          </div>\n        </button>\n        \n        <button\n          className=\"priority-btn\"\n          onClick={cyclePriority}\n          title={`優先度: ${priorityInfo.text} (クリックで切り替え)`}\n          style={{\n            backgroundColor: priorityInfo.bgColor,\n            color: priorityInfo.textColor\n          }}\n        >\n          {priorityInfo.text}\n        </button>\n      </div>\n\n      {/* 中央：メインコンテンツ */}\n      <div className=\"task-content\">\n        <div className=\"task-header\">\n          {isQuickEdit ? (\n            <input\n              type=\"text\"\n              defaultValue={task.title}\n              autoFocus\n              onBlur={(e) => handleQuickTitleEdit(e.target.value)}\n              onKeyPress={(e) => {\n                if (e.key === 'Enter') {\n                  handleQuickTitleEdit(e.target.value);\n                }\n              }}\n              onKeyDown={(e) => {\n                if (e.key === 'Escape') {\n                  setIsQuickEdit(false);\n                }\n              }}\n              className=\"quick-title-edit\"\n            />\n          ) : (\n            <h3 \n              className={`task-title ${task.status ? 'completed' : ''}`}\n              onClick={() => setIsQuickEdit(true)}\n              title=\"クリックでタイトル編集\"\n            >\n              {task.title}\n            </h3>\n          )}\n        </div>\n        \n        <div className=\"task-meta\">\n          {task.categories && (\n            <span \n              className=\"category-tag\"\n              style={{ \n                backgroundColor: task.categories.color + '20',\n                color: task.categories.color,\n                borderColor: task.categories.color + '50'\n              }}\n            >\n              {task.categories.name}\n            </span>\n          )}\n          \n          {dueDateInfo && (\n            <span \n              className={`due-date-tag ${dueDateInfo.status}`}\n              style={{\n                backgroundColor: dueDateInfo.bgColor,\n                color: dueDateInfo.textColor\n              }}\n            >\n              {dueDateInfo.text}\n            </span>\n          )}\n        </div>\n        \n        {task.description && !task.status && (\n          <p className=\"task-description\">\n            {task.description}\n          </p>\n        )}\n      </div>\n\n      {/* 右側：アクション */}\n      <div className=\"task-actions\">\n        <button\n          onClick={() => setIsEditing(true)}\n          className=\"action-btn edit-btn\"\n          title=\"詳細編集\"\n        >\n          編集\n        </button>\n        <button\n          onClick={handleDelete}\n          className=\"action-btn delete-btn\"\n          title=\"削除\"\n        >\n          削除\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default TaskItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}