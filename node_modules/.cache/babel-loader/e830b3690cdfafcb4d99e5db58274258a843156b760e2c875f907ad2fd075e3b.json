{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mexer\\\\PR\\\\task-manager-app\\\\src\\\\components\\\\Dashboard\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport TaskList from '../Task/TaskList';\nimport AddTaskModal from '../Task/AddTaskModal';\nimport AddCategoryModal from '../Category/AddCategoryModal';\nimport supabase from '../../services/supabaseClient';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  session\n}) {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('all'); // all, completed, upcoming\n  const [showAddTaskModal, setShowAddTaskModal] = useState(false);\n  const [showAddCategoryModal, setShowAddCategoryModal] = useState(false);\n\n  // タスクとカテゴリを取得\n  useEffect(() => {\n    fetchTasks();\n    fetchCategories();\n  }, [session]);\n  async function fetchTasks() {\n    setLoading(true);\n    const {\n      data,\n      error\n    } = await supabase.from('tasks').select(`\n        *,\n        categories(id, name, color)\n      `).order('due_date', {\n      ascending: true\n    });\n    if (error) {\n      console.error('タスクの取得中にエラーが発生しました:', error);\n    } else {\n      setTasks(data || []);\n    }\n    setLoading(false);\n  }\n  async function fetchCategories() {\n    const {\n      data,\n      error\n    } = await supabase.from('categories').select('*').order('name', {\n      ascending: true\n    });\n    if (error) {\n      console.error('カテゴリの取得中にエラーが発生しました:', error);\n    } else {\n      setCategories(data || []);\n    }\n  }\n\n  // タスクのフィルタリング\n  const filteredTasks = tasks.filter(task => {\n    if (activeTab === 'all') return true;\n    if (activeTab === 'completed') return task.status;\n    if (activeTab === 'upcoming') {\n      return !task.status && task.due_date && new Date(task.due_date) >= new Date();\n    }\n    return true;\n  });\n\n  // ログアウト処理\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dashboard-title\",\n        children: \"\\u30BF\\u30B9\\u30AF\\u7BA1\\u7406\\u30A2\\u30D7\\u30EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"logout-button\",\n        children: \"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('all'),\n          className: `tab-button ${activeTab === 'all' ? 'active' : ''}`,\n          children: \"\\u3059\\u3079\\u3066\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('completed'),\n          className: `tab-button ${activeTab === 'completed' ? 'active' : ''}`,\n          children: \"\\u5B8C\\u4E86\\u6E08\\u307F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('upcoming'),\n          className: `tab-button ${activeTab === 'upcoming' ? 'active' : ''}`,\n          children: \"\\u4E88\\u5B9A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddCategoryModal(true),\n          className: \"category-button\",\n          children: \"\\u30AB\\u30C6\\u30B4\\u30EA\\u8FFD\\u52A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddTaskModal(true),\n          className: \"task-button\",\n          children: \"\\u30BF\\u30B9\\u30AF\\u8FFD\\u52A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n      tasks: filteredTasks,\n      categories: categories,\n      loading: loading,\n      refreshTasks: fetchTasks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), showAddTaskModal && /*#__PURE__*/_jsxDEV(AddTaskModal, {\n      categories: categories,\n      onClose: () => setShowAddTaskModal(false),\n      onTaskAdded: () => {\n        fetchTasks();\n        setShowAddTaskModal(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), showAddCategoryModal && /*#__PURE__*/_jsxDEV(AddCategoryModal, {\n      onClose: () => setShowAddCategoryModal(false),\n      onCategoryAdded: () => {\n        fetchCategories();\n        setShowAddCategoryModal(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"hr+6pP5rjCFE6SVA60+kkBIdlMg=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","TaskList","AddTaskModal","AddCategoryModal","supabase","jsxDEV","_jsxDEV","Dashboard","session","_s","tasks","setTasks","categories","setCategories","loading","setLoading","activeTab","setActiveTab","showAddTaskModal","setShowAddTaskModal","showAddCategoryModal","setShowAddCategoryModal","fetchTasks","fetchCategories","data","error","from","select","order","ascending","console","filteredTasks","filter","task","status","due_date","Date","handleLogout","auth","signOut","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","refreshTasks","onClose","onTaskAdded","onCategoryAdded","_c","$RefreshReg$"],"sources":["C:/Users/mexer/PR/task-manager-app/src/components/Dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport TaskList from '../Task/TaskList';\nimport AddTaskModal from '../Task/AddTaskModal';\nimport AddCategoryModal from '../Category/AddCategoryModal';\nimport supabase from '../../services/supabaseClient';\nimport './Dashboard.css';\n\nfunction Dashboard({ session }) {\n  const [tasks, setTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('all'); // all, completed, upcoming\n  const [showAddTaskModal, setShowAddTaskModal] = useState(false);\n  const [showAddCategoryModal, setShowAddCategoryModal] = useState(false);\n\n  // タスクとカテゴリを取得\n  useEffect(() => {\n    fetchTasks();\n    fetchCategories();\n  }, [session]);\n\n  async function fetchTasks() {\n    setLoading(true);\n\n    const { data, error } = await supabase\n      .from('tasks')\n      .select(`\n        *,\n        categories(id, name, color)\n      `)\n      .order('due_date', { ascending: true });\n\n    if (error) {\n      console.error('タスクの取得中にエラーが発生しました:', error);\n    } else {\n      setTasks(data || []);\n    }\n\n    setLoading(false);\n  }\n\n  async function fetchCategories() {\n    const { data, error } = await supabase\n      .from('categories')\n      .select('*')\n      .order('name', { ascending: true });\n\n    if (error) {\n      console.error('カテゴリの取得中にエラーが発生しました:', error);\n    } else {\n      setCategories(data || []);\n    }\n  }\n\n  // タスクのフィルタリング\n  const filteredTasks = tasks.filter(task => {\n    if (activeTab === 'all') return true;\n    if (activeTab === 'completed') return task.status;\n    if (activeTab === 'upcoming') {\n      return !task.status && task.due_date && new Date(task.due_date) >= new Date();\n    }\n    return true;\n  });\n\n  // ログアウト処理\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <header className=\"dashboard-header\">\n        <h1 className=\"dashboard-title\">タスク管理アプリ</h1>\n        <button\n          onClick={handleLogout}\n          className=\"logout-button\"\n        >\n          ログアウト\n        </button>\n      </header>\n\n      <div className=\"dashboard-controls\">\n        <div className=\"tab-controls\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`tab-button ${activeTab === 'all' ? 'active' : ''}`}\n          >\n            すべて\n          </button>\n          <button\n            onClick={() => setActiveTab('completed')}\n            className={`tab-button ${activeTab === 'completed' ? 'active' : ''}`}\n          >\n            完了済み\n          </button>\n          <button\n            onClick={() => setActiveTab('upcoming')}\n            className={`tab-button ${activeTab === 'upcoming' ? 'active' : ''}`}\n          >\n            予定\n          </button>\n        </div>\n        <div className=\"action-controls\">\n          <button\n            onClick={() => setShowAddCategoryModal(true)}\n            className=\"category-button\"\n          >\n            カテゴリ追加\n          </button>\n          <button\n            onClick={() => setShowAddTaskModal(true)}\n            className=\"task-button\"\n          >\n            タスク追加\n          </button>\n        </div>\n      </div>\n\n      <TaskList\n        tasks={filteredTasks}\n        categories={categories}\n        loading={loading}\n        refreshTasks={fetchTasks}\n      />\n\n      {showAddTaskModal && (\n        <AddTaskModal\n          categories={categories}\n          onClose={() => setShowAddTaskModal(false)}\n          onTaskAdded={() => {\n            fetchTasks();\n            setShowAddTaskModal(false);\n          }}\n        />\n      )}\n\n      {showAddCategoryModal && (\n        <AddCategoryModal\n          onClose={() => setShowAddCategoryModal(false)}\n          onCategoryAdded={() => {\n            fetchCategories();\n            setShowAddCategoryModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}